<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>todo/20231229.html</title>
  <style>
    #show {
      width: 350px;
      height: 400px;
      background: blueviolet;
      margin-top: 20px;
      padding: 10px;
    }

    span {
      display: inline-block;
      width: 100px;
      height: 30px;
      margin: 0 10px 10px 0;
      background-color: lemonchiffon;
    }
  </style>
    <script>
		
		// DOM tree 완성 후 script를 실행하게 함
		document.addEventListener('DOMContentLoaded', function () {
			
			const words = 'Lorem ipsum dolor, sit amet consectetur adipisicing elit. Aliquam, laboriosam quis. Ab, corporis Sit numquam tempore illum fugit esse distinctio cum! Consequatur aperiam distinctio laboriosam, voluptatibus sunt nisi repellendus iusto?';

		    const wordAry = words.split(' ');
		
		    let show = document.querySelector('#show');
		
		    wordAry.reduce((acc, word)=>{
		      let span = document.createElement('span');
		      span.innerText = word;
		      acc.appendChild(span);
		      return acc;
		    }, show)
		
		    // 삭제버튼 클릭 시 해당 요소 삭제
		    document.getElementById('delBtn').addEventListener('click', function () {
		      // 사용자 입력값 == 화면상의 span요소 전체를 가져와서 sapn.remove()
		      let inputText = document.querySelector('input[name=userValue]').value;
		      let sapnAll = document.querySelectorAll('span'); // 배열타입으로 가져옴
		      // console.log(sapnAll);
		
		      sapnAll.forEach(function (sapn){
		        if(inputText == sapn.innerText){
		          sapn.remove();
		        }
		      })
		
		      // 사용자 입력화면 초기화
		      document.querySelector('#uerValue').value = '';
		      document.querySelector('#uerValue').focus();
		      
		    })
		    
		    // keyup, keydown 이벤트 등록
		    document.querySelector('input[name="userValue"]').addEventListener("keyup", function(e){
				// console.log(e);
				if(e.code == 'Enter') { // e.Keycode == 13
					let inputText = document.querySelector('input[name=userValue]').value;
					let span = document.createElement('span');
		      		span.innerText = inputText;
		      		show.prepend(span);
		      		
		      		document.querySelector('#uerValue').value = '';
		      		document.querySelector('#uerValue').focus();
				}
			})
		})
		
    </script>
</head>

<body>
  <input type="text" name="userValue" id="uerValue">
  <button id="delBtn">삭제</button>
  <div id="show">
    <!-- 추가되게하기 -->
  </div>


</body>

</html>